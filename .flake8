[flake8]
; ANN: Annotations
; A:   builtins
; B:   bugbear
; B9:  bugbear future proof
; BLK: black
; C:   mccabe / comprehensions
; D:   docstring
; E:   pycodestyle errors
; F:   pyflakes warnings
; I:   import-order
; M:   flake8 extension for mutable default arguments
; RST: restructured text
; W:   pycodestyle warnings
; Y:   type hinting in stub files
; select = B,B9,BLK,C,D,E,F,I,S,W

;filename =
;    No need to traverse our git directory
;    "src/",
;    This contains builds of flake8 that we don't want to check
;    "tests/",
;    There's no value in checking cache directories
;    "examples/",
;    sphinx config
;    "docs/conf.py",
;    run files
;    "run/",
;    dev files
;    "dev/",

max-line-length = 120

per-file-ignores =
     tests/*: D103

ignore =
    ; Missing type annotation for self in method
    ANN10
    ; Missing type annotation for cls in classmethod
    ANN10
    ; Dynamically typed expressions (typing.Any) are disallowed
    ANN40
    ; BaseDatasetMetaClass is an abstract base class, but it has no abstract methods
    B024,
    ; Missing docstring in public method
    D102,
    ; Missing docstring in magic method
    D105,
    ; Missing docstring in __init__
    D107,
    ; whitespace before ']'
    E202,
    ; whitespace before ':'
    E203,
    ; multiple spaces after ','
    E241,
    ; multiple statements on one line (def)
    E704,
    ; ambiguous variable nam
    E741,
    ; line break before binary operator
    W503,


;Google Python style is not RST until after processed by Napoleon
;See https://github.com/peterjc/flake8-rst-docstrings/issues/17
extend-ignore =
;     Missing dashed underline after section
    D407,
;     Unexpected indentation.
    RST201,
;     Definition list ends without a blank line; unexpected unindent.
    RST203,
;     Block quote ends without a blank line; unexpected unindent.
    RST301,
;    ANN101,     # Missing type annotation for self in method
;    ANN201,     # Missing return type annotation for public function
;    RST303,     # Unknown directive type
;    RST304,     # Unknown interpreted text role


exclude =
    *.pyi,
    ./.git,
    ./.idea,
    ./.venv,
    ./build,
    ./dev,
    ./scripts,
    ./venv,


; Annotations plugin
; Suppress ANN200-level errors for functions that have no return (return None)
suppress-none-returning = True
allow-untyped-defs = True


; docstring plugin
docstring-convention = google

rst-roles =
    mod,
    func,
    data,
    const,
    class,
    meth,
    attr,
    exc,
    obj,

rst-directives=
    Signature,
    literalinclude,
